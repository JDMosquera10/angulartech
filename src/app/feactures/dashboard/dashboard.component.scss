/**
 * Estilos del componente Dashboard
 * Usa variables y mixins compartidos para mantener consistencia
 */

@import '../../../app/shared/styles/variables';
@import '../../../app/shared/styles/mixins';

// ==============================================
// CONTENEDOR PRINCIPAL
// ==============================================

:host {
  display: block;
  height: 100%;
  width: 100%;
  background-color: $color-background;
}

// ==============================================
// GRID STACK LAYOUT
// ==============================================

.grid-stack {
  overflow: hidden !important;
  padding: $spacing-md;
  
  .grid-stack-item-content {
    @include card-base;
    @include flex-center;
    flex-direction: column;
    height: 100%;
    width: 100%;
    overflow: hidden;
    
    // Animación suave al reorganizar
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    
    &:hover {
      transform: translateY(-2px);
      box-shadow: $shadow-lg;
    }
  }
}

// ==============================================
// CARDS ESPECÍFICAS
// ==============================================

.card {
  @include card-base;
  height: 100%;
  display: flex;
  flex-direction: column;
  
  h3 {
    @include card-header;
    font-size: $font-size-lg;
    color: $color-text-primary;
    margin: 0 0 $spacing-md;
    padding-bottom: $spacing-md;
    border-bottom: $border-width-thin solid $color-border;
  }
}

// Card KPI
.kpi {
  @include card-kpi;
  cursor: pointer;
  
  &:hover {
    transform: scale(1.05);
    box-shadow: $shadow-primary-hover;
    
    h1 {
      @include pulse-animation;
    }
  }
}

// Card de tabla
.table-card {
  display: block;
  overflow: hidden;
  
  .mat-elevation-z8 {
    height: 100%;
    display: flex;
    flex-direction: column;
  }
}

// ==============================================
// CONTENEDOR DE GRÁFICOS
// ==============================================

.chart-container {
  width: 100%;
  height: 100%;
  position: relative;
  padding: $spacing-sm;
  
  canvas {
    width: 100% !important;
    height: 100% !important;
    max-height: 350px;
  }
}

// ==============================================
// TABLAS
// ==============================================

.mat-elevation-z8 {
  @include table-container;
  @include custom-scrollbar;
  flex: 1;
  display: flex;
  flex-direction: column;
  background-color: transparent;
  box-shadow: none;
  
  table {
    @include table-base;
    flex: 1;
  }
  
  // Paginator específico del dashboard
  mat-paginator {
    background-color: $color-surface;
    color: $color-text-primary;
    border-top: $border-width-thin solid $color-border;
    margin-top: auto;
  }
}

// ==============================================
// ALERTAS DE MANTENIMIENTO
// ==============================================

ul {
  list-style: none;
  padding: 0;
  margin: 0;
  
  li {
    padding: $spacing-sm $spacing-md;
    margin-bottom: $spacing-sm;
    background-color: $color-surface-alt;
    border-radius: $border-radius-sm;
    border-left: $border-width-thick solid $color-primary;
    transition: $transition-fast;
    
    &:hover {
      background-color: $color-surface-elevated;
      transform: translateX(4px);
    }
    
    &:last-child {
      margin-bottom: 0;
    }
    
    span {
      font-weight: $font-weight-bold;
      
      &.warning {
        color: $color-warning;
      }
      
      &.danger {
        color: $color-danger;
      }
    }
  }
}

// ==============================================
// RESPONSIVE
// ==============================================

@include responsive('md') {
  .grid-stack {
    padding: $spacing-lg;
  }
}

@include responsive('sm') {
  .grid-stack {
    padding: $spacing-sm;
    
    .grid-stack-item-content {
      padding: $spacing-sm;
    }
  }
  
  .kpi {
    h1 {
      font-size: 2rem;
    }
    
    p {
      font-size: $font-size-xs;
    }
  }
}

// ==============================================
// ANIMACIONES
// ==============================================

// Animación de entrada para los elementos del dashboard
.grid-stack-item {
  @include fade-in;
  
  @for $i from 1 through 10 {
    &:nth-child(#{$i}) {
      animation-delay: #{$i * 0.1}s;
    }
  }
}

// ==============================================
// OVERRIDES ESPECÍFICOS
// ==============================================

// Override para ::ng-deep (mantener solo si es necesario)
::ng-deep {
  .grid-stack-item-content {
    text-align: center;
    background-color: $color-surface !important;
  }
  
  // Estilos para los controles de mat-paginator
  .mat-mdc-paginator-container {
    color: $color-text-secondary;
  }
  
  .mat-mdc-icon-button {
    color: $color-primary;
    
    &:disabled {
      color: $color-text-disabled;
    }
  }
}