@use '@angular/material' as mat;
@use 'sass:map';
@use '../custome-theme_theme-colors.scss' as custome;
// @import "gridstack/dist/gridstack.min.css";



$color-primary: #02BEC1;
$color-primary-alt: #04c0c3;
$color-dark: #192230;
$color-dark-alt: #202837;
$color-accent: #a44a5d;
$color-warning: #f0961b;

// Variables CSS dinámicas para el cambio de tema
:root {
  // Colores para tema oscuro (por defecto)
  --color-primary: #{$color-primary};
  --color-primary-alt: #{$color-primary-alt};
  --color-dark: #{$color-dark};
  --color-dark-alt: #{$color-dark-alt};
  --color-accent: #{$color-accent};
  --color-warning: #{$color-warning};
  
  // Colores de texto y fondo para tema oscuro
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --bg-primary: #{$color-dark};
  --bg-secondary: #{$color-dark-alt};
  --bg-tertiary: #2a3441;
  --border-color: rgba(255, 255, 255, 0.1);
  --border-color-strong: rgba(255, 255, 255, 0.2);
  --shadow-color: rgba(0, 0, 0, 0.3);
  --shadow-color-strong: rgba(0, 0, 0, 0.5);
}

// Tema por defecto (oscuro)
html,
html.theme-dark {
  @include mat.theme((color: (theme-type: dark,
        primary: custome.$primary-palette,
        tertiary: custome.$tertiary-palette ),
      typography: Roboto,
      density: 0,
      customProperties: true));
}

// Tema claro
html.theme-light {
  @include mat.theme((color: (theme-type: light,
        primary: custome.$primary-palette,
        tertiary: custome.$tertiary-palette ),
      typography: Roboto,
      density: 0,
      customProperties: true));
  
  // Variables CSS optimizadas para tema claro
  --color-dark: #f8f9fa;
  --color-dark-alt: #ffffff;
  --color-primary: #{$color-primary};
  --color-primary-alt: #{$color-primary-alt};
  --color-accent: #{$color-accent};
  --color-warning: #{$color-warning};
  
  // Colores de texto para tema claro
  --text-primary: #1a202c;
  --text-secondary: rgba(26, 32, 44, 0.7);
  --text-tertiary: rgba(26, 32, 44, 0.5);
  
  // Fondos para tema claro
  --bg-primary: #f8f9fa;
  --bg-secondary: #ffffff;
  --bg-tertiary: #e2e8f0;
  
  // Bordes y sombras para tema claro
  --border-color: rgba(203, 213, 224, 0.6);
  --border-color-strong: rgba(203, 213, 224, 0.8);
  --shadow-color: rgba(0, 0, 0, 0.1);
  --shadow-color-strong: rgba(0, 0, 0, 0.15);
}

html,
body {
  height: 100%;
}

body {
  margin: 0;
  font-family: Roboto, "Helvetica Neue", sans-serif;
}

grid-stack {
  .grid-stack-item {
    padding: 8px !important;
    box-sizing: border-box !important;
  }

  .grid-stack-item-content {
    border-radius: 12px !important;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3) !important;
    border: 1px solid rgba(2, 190, 193, 0.1) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;

    &:hover {
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4) !important;
      border-color: rgba(2, 190, 193, 0.3) !important;
      transform: translateY(-2px) !important;
    }
  }
}

// Estilos para las notificaciones de toast - Usando colores del tema
.mat-mdc-snack-bar-container {
  &.alert-critical {
    .mdc-snackbar__surface {
      background-color: #a44a5d !important; // Color tertiary/error del tema
      color: white !important;
      border-left: 4px solid #f68c9f !important; // Lighter tertiary
      box-shadow: 0 4px 12px rgba(164, 74, 93, 0.3) !important;
    }
  }

  &.alert-high {
    .mdc-snackbar__surface {
      background-color: #f0961b !important; // Color secondary del tema
      color: white !important;
      border-left: 4px solid #ffb86b !important; // Lighter secondary
      box-shadow: 0 4px 12px rgba(240, 150, 27, 0.3) !important;
    }
  }

  &.alert-medium {
    .mdc-snackbar__surface {
      background-color: #f0971c !important; // Color secondary del tema
      color: white !important;
      border-left: 4px solid #ffdcbc !important; // Lighter secondary
      box-shadow: 0 4px 12px rgba(240, 151, 28, 0.3) !important;
    }
  }

  &.alert-low {
    .mdc-snackbar__surface {
      background-color: #02BEC1 !important; // Color primary del tema
      color: white !important;
      border-left: 4px solid #68f7fa !important; // Lighter primary
      box-shadow: 0 4px 12px rgba(2, 190, 193, 0.3) !important;
    }
  }

  &.alert-info {
    .mdc-snackbar__surface {
      background-color: #02BEC1 !important; // Color primary del tema
      color: white !important;
      border-left: 4px solid #68f7fa !important; // Lighter primary
      box-shadow: 0 4px 12px rgba(2, 190, 193, 0.3) !important;
    }
  }

  &.alert-success {
    .mdc-snackbar__surface {
      background-color: #00a1a3 !important; // Darker primary
      color: white !important;
      border-left: 4px solid #02BEC1 !important; // Primary
      box-shadow: 0 4px 12px rgba(0, 161, 163, 0.3) !important;
    }
  }

  &.alert-warning {
    .mdc-snackbar__surface {
      background-color: #cf7e00 !important; // Darker secondary
      color: white !important;
      border-left: 4px solid #f0961b !important; // Secondary
      box-shadow: 0 4px 12px rgba(207, 126, 0, 0.3) !important;
    }
  }

  &.alert-error {
    .mdc-snackbar__surface {
      background-color: #a44a5d !important; // Color tertiary/error del tema
      color: white !important;
      border-left: 4px solid #f68c9f !important; // Lighter tertiary
      box-shadow: 0 4px 12px rgba(164, 74, 93, 0.3) !important;
    }
  }

  &.critical-alert {
    .mdc-snackbar__surface {
      background: linear-gradient(135deg, #a44a5d 0%, #7e2d40 100%) !important; // Tertiary gradient
      color: white !important;
      border-left: 4px solid #f68c9f !important; // Lighter tertiary
      box-shadow: 0 4px 20px rgba(164, 74, 93, 0.4) !important;
    }
  }

  &.overdue-alert {
    .mdc-snackbar__surface {
      background: linear-gradient(135deg, #7e2d40 0%, #5e1328 100%) !important; // Darker tertiary gradient
      color: white !important;
      border-left: 4px solid #a44a5d !important; // Tertiary
      box-shadow: 0 4px 20px rgba(126, 45, 64, 0.5) !important;
    }
  }

  .mdc-snackbar__surface {
    border-radius: 8px !important;
    font-weight: 500 !important;
    font-size: 14px !important;
    padding: 16px 20px !important;
    min-width: 300px !important;
    max-width: 500px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
    backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
  }

  // Adaptación para tema claro
  html.theme-light & {
    .mdc-snackbar__surface {
      border: 1px solid rgba(0, 0, 0, 0.1) !important;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
    }
  }

  // Adaptación para tema oscuro
  html.theme-dark & {
    .mdc-snackbar__surface {
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
    }
  }

  .mdc-snackbar__label {
    color: inherit !important;
    font-weight: inherit !important;
  }

  .mat-mdc-snack-bar-action {
    color: rgba(255, 255, 255, 0.9) !important;
    font-weight: 600 !important;
    
    &:hover {
      color: white !important;
      background-color: rgba(255, 255, 255, 0.1) !important;
    }
  }
}